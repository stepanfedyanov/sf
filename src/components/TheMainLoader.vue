<template>
  <div v-if="!pageIsLoaded" class="loader">
    <svg class="loader__img" width="146" height="32" viewBox="0 0 146 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_4_5339)"><path d="M15.9426 7.44102V5.16566H13.6673V7.44102H11.3768V5.16566H13.6673V2.89029H11.3768V0.614929H9.10146V7.44102H6.84116V5.16566H4.5658V7.44102H0V23.4439L10.2467 31.3851L20.4933 23.4439V7.44102H15.9426ZM18.218 9.71638V20.4603L15.9426 18.5315V9.70132H18.218V9.71638ZM5.69594 20.5658L8.33296 22.796L5.72608 24.996L2.99866 22.8864L5.68088 20.5507L5.69594 20.5658ZM14.7974 20.5658L17.5098 22.8562L14.7221 25.011L12.1604 22.8412L14.7974 20.5658ZM13.6522 9.71638V18.5466L11.3618 20.5357V9.71638H13.6522ZM9.08639 9.71638V20.4603L6.82609 18.5466V9.71638H9.08639ZM4.55073 9.71638V18.5466L2.27536 20.5206V9.71638H4.55073ZM7.56445 26.4426L10.2165 24.1973L12.8837 26.4576L10.2316 28.522L7.56445 26.4426Z" fill="#052E3E"></path><path d="M44.7087 10.7561L43.9402 12.6246C42.2977 11.8863 40.6552 11.5096 39.0127 11.5096C36.7524 11.5096 35.6223 12.052 35.6223 13.137C35.6223 13.9808 36.3456 14.4931 37.8072 14.6589L41.2127 15.0658C43.8648 15.3973 45.1909 16.6028 45.1909 18.7124C45.1909 21.2138 43.3073 22.4645 39.5552 22.4645C37.2346 22.4645 35.0949 22.0124 33.1209 21.1233L33.9195 19.1494C35.8031 20.0535 37.7168 20.5055 39.6305 20.5055C41.8607 20.5055 42.9758 19.9329 42.9758 18.7877C42.9758 17.8987 42.2073 17.3713 40.6703 17.1754L37.31 16.7685C36.0442 16.6178 35.0798 16.2562 34.4168 15.6534C33.7387 15.0507 33.4072 14.252 33.4072 13.2726C33.4072 12.0972 33.8894 11.1931 34.8688 10.5602C35.8483 9.92735 37.2497 9.62598 39.073 9.62598C40.8963 9.62598 42.81 10.0027 44.6936 10.7712L44.7087 10.7561Z" fill="#052E3E"></path><path d="M50.495 9.86713H52.7101V22.2234H50.495V9.86713ZM59.3554 9.86713H62.128L56.3266 15.5932L62.565 22.2083H59.6115L53.4937 15.6836L59.3554 9.86713Z" fill="#052E3E"></path><path d="M65.8349 9.86713H68.502L72.4199 15.2768L76.3528 9.86713H78.9295L73.5048 17.2658V22.2234H71.2897V17.2658L65.8349 9.86713Z" fill="#052E3E"></path><path d="M105.345 9.62601C107.545 9.62601 109.338 10.2288 110.724 11.4192C112.111 12.6096 112.819 14.1466 112.819 16.0452C112.819 17.9439 112.126 19.4809 110.724 20.6713C109.323 21.8617 107.53 22.4494 105.345 22.4494C103.16 22.4494 101.337 21.8617 99.9503 20.6713C98.579 19.4658 97.8858 17.9288 97.8858 16.0452C97.8858 14.1617 98.579 12.6096 99.9503 11.4192C101.337 10.2137 103.13 9.62601 105.345 9.62601ZM105.33 20.5357C106.852 20.5357 108.102 20.1138 109.082 19.285C110.061 18.4562 110.544 17.3713 110.544 16.0452C110.544 14.7192 110.061 13.6192 109.082 12.7904C108.102 11.9616 106.852 11.5397 105.33 11.5397C103.808 11.5397 102.572 11.9616 101.593 12.7904C100.628 13.6192 100.146 14.6891 100.146 16.0452C100.146 17.4014 100.628 18.4713 101.593 19.3001C102.557 20.1288 103.793 20.5357 105.33 20.5357Z" fill="#052E3E"></path><path d="M118.108 9.86713H125.371C126.803 9.86713 127.918 10.2137 128.761 10.8918C129.59 11.5699 130.012 12.4891 130.012 13.6494C130.012 14.5987 129.726 15.3822 129.153 16.0151C128.581 16.648 127.797 17.0549 126.787 17.2206L130.585 22.2234H127.827L124.286 17.4617H120.338V15.5179H125.582C126.26 15.5179 126.803 15.3521 127.194 15.0206C127.586 14.6891 127.782 14.237 127.782 13.6644C127.782 13.0918 127.586 12.6398 127.194 12.2932C126.803 11.9466 126.29 11.7808 125.627 11.7808H120.323V22.2234H118.108V9.86713Z" fill="#052E3E"></path><path d="M133.96 9.86713H145.985V11.8411H141.088V22.2234H138.873V11.8411H133.975V9.86713H133.96Z" fill="#052E3E"></path><path d="M83.3296 11.796V22.2084H85.5447V17.3563H91.6324L91.6173 15.4426H85.5447V11.796H83.3296Z" fill="#052E3E"></path><path d="M93.8324 9.86713H85.5447V11.811H93.8324V9.86713Z" fill="#052E3E"></path></g><defs><clipPath id="clip0_4_5339"><rect width="146" height="30.7702" fill="white" transform="translate(0 0.614929)"></rect></clipPath></defs></svg>
  </div>
</template>

<script setup>
import { onMounted, watch } from 'vue';
import { useGlobalStore } from '../stores/global';
import { storeToRefs } from 'pinia';

const globalStore = useGlobalStore();
const { pageIsLoaded } = storeToRefs(globalStore);

onMounted(() => {
  if (document && document.body) document.body.style.overflow = 'hidden';
});

watch(pageIsLoaded, () => {
  if (document && document.body) document.body.style.overflow = '';
});
</script>

<style lang="scss">
.loader {
  position: fixed;
  display: flex;
  align-items: center;
  justify-content: center;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(165, 204, 224, 1) linear-gradient(0deg, #FFFFFF 11.25%, rgba(255, 255, 255, 0) 75.25%);
  z-index: 999;
  &__img {
    animation: loader 3s linear infinite;
    height: 50vh;
    width: 30vw;
  }
}

@keyframes loader {
  0% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
</style>